<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>PokerGameConfiguration.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">poker-engine</a> &gt; <a href="index.source.html" class="el_package">de.simonaltschaeffl.poker.engine</a> &gt; <span class="el_source">PokerGameConfiguration.java</span></div><h1>PokerGameConfiguration.java</h1><pre class="source lang-java linenums">package de.simonaltschaeffl.poker.engine;

import de.simonaltschaeffl.poker.service.BettingRuleStrategy;
import de.simonaltschaeffl.poker.service.NoLimitBettingStrategy;
import de.simonaltschaeffl.poker.service.NoRakeStrategy;
import de.simonaltschaeffl.poker.service.RakeStrategy;

import jakarta.validation.constraints.Min;

/**
 * Configuration class for the {@link PokerGame}.
 * Instances are created using the {@link Builder} pattern.
 * Allows configuration of blinds, max players, turn timeouts, and game
 * strategies (like Rake and Betting Rules).
 */
public class PokerGameConfiguration {
    @Min(1)
    private final int smallBlind;
    @Min(2)
    private final int bigBlind;
    @Min(2)
    private final int maxPlayers;
    @Min(0)
    private final long actionTimeoutMs;
    private final RakeStrategy rakeStrategy;
    private final BettingRuleStrategy bettingRuleStrategy;

<span class="fc" id="L28">    private PokerGameConfiguration(Builder builder) {</span>
<span class="fc" id="L29">        this.smallBlind = builder.smallBlind;</span>
<span class="fc" id="L30">        this.bigBlind = builder.bigBlind;</span>
<span class="fc" id="L31">        this.maxPlayers = builder.maxPlayers;</span>
<span class="fc" id="L32">        this.actionTimeoutMs = builder.actionTimeoutMs;</span>
<span class="fc" id="L33">        this.rakeStrategy = builder.rakeStrategy;</span>
<span class="fc" id="L34">        this.bettingRuleStrategy = builder.bettingRuleStrategy;</span>
<span class="fc" id="L35">    }</span>

    public int getSmallBlind() {
<span class="fc" id="L38">        return smallBlind;</span>
    }

    public int getBigBlind() {
<span class="fc" id="L42">        return bigBlind;</span>
    }

    public int getMaxPlayers() {
<span class="fc" id="L46">        return maxPlayers;</span>
    }

    public long getActionTimeoutMs() {
<span class="fc" id="L50">        return actionTimeoutMs;</span>
    }

    public RakeStrategy getRakeStrategy() {
<span class="fc" id="L54">        return rakeStrategy;</span>
    }

    public BettingRuleStrategy getBettingRuleStrategy() {
<span class="fc" id="L58">        return bettingRuleStrategy;</span>
    }

    /**
     * Builder for {@link PokerGameConfiguration}.
     */
<span class="fc" id="L64">    public static class Builder {</span>
<span class="fc" id="L65">        private int smallBlind = 10;</span>
<span class="fc" id="L66">        private int bigBlind = 20;</span>
<span class="fc" id="L67">        private int maxPlayers = 10;</span>
<span class="fc" id="L68">        private long actionTimeoutMs = 0; // 0 means disabled</span>
<span class="fc" id="L69">        private RakeStrategy rakeStrategy = new NoRakeStrategy();</span>
<span class="fc" id="L70">        private BettingRuleStrategy bettingRuleStrategy = new NoLimitBettingStrategy();</span>

        public Builder smallBlind(int smallBlind) {
<span class="fc" id="L73">            this.smallBlind = smallBlind;</span>
<span class="fc" id="L74">            return this;</span>
        }

        public Builder bigBlind(int bigBlind) {
<span class="fc" id="L78">            this.bigBlind = bigBlind;</span>
<span class="fc" id="L79">            return this;</span>
        }

        public Builder maxPlayers(int maxPlayers) {
<span class="fc" id="L83">            this.maxPlayers = maxPlayers;</span>
<span class="fc" id="L84">            return this;</span>
        }

        public Builder actionTimeoutMs(long actionTimeoutMs) {
<span class="nc" id="L88">            this.actionTimeoutMs = actionTimeoutMs;</span>
<span class="nc" id="L89">            return this;</span>
        }

        public Builder rakeStrategy(RakeStrategy rakeStrategy) {
<span class="nc" id="L93">            this.rakeStrategy = rakeStrategy;</span>
<span class="nc" id="L94">            return this;</span>
        }

        public Builder bettingRuleStrategy(BettingRuleStrategy bettingRuleStrategy) {
<span class="nc" id="L98">            this.bettingRuleStrategy = bettingRuleStrategy;</span>
<span class="nc" id="L99">            return this;</span>
        }

        public PokerGameConfiguration build() {
<span class="pc bpc" id="L103" title="1 of 2 branches missed.">            if (bigBlind &lt;= smallBlind) {</span>
<span class="nc" id="L104">                throw new IllegalArgumentException(&quot;Big blind must be greater than small blind&quot;);</span>
            }
<span class="pc bpc" id="L106" title="1 of 2 branches missed.">            if (maxPlayers &lt; 2) {</span>
<span class="nc" id="L107">                throw new IllegalArgumentException(&quot;Max players must be at least 2&quot;);</span>
            }
<span class="fc" id="L109">            return new PokerGameConfiguration(this);</span>
        }
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.12.202403310830</span></div></body></html>